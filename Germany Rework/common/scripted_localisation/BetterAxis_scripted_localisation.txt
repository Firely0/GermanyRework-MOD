# Allows you to create your own dynamic keys
# to be called in localization.
# defined_text -> this is it, we're defining the text
# text -> a discrete entry that can be picked to display in loc.
# trigger -> determines if a text entry will be picked or not.
# (The triggers need to be valid for the scope the key is called in
# (eg Root or From.From).)
# localization_key -> points to the localization key
# that'll be used if trigger passes

defined_text = {
	name = mefoisactiveornot
	text = {
		trigger = {
			GER_has_mefo_bills = yes
		}
		localization_key = GER_MEFO_IS_ACTIVE_OR_NOT_n
	}
	text = {
		localization_key = GER_MEFO_IS_ACTIVE_OR_NOT_y
	}
}

defined_text = {
	name = GetFourYearPlanname
	text = {
		trigger = {
			NOT = { has_country_flag = GER_FOUR_YEAR_PLAN_END }
		}
		localization_key = "Four Year Plan"
	}
	text = {
		trigger = {
			has_country_flag = GER_FOUR_YEAR_PLAN_END
		}
		localization_key = "Mefo Bills"
	}
	text = {
		localization_key = GER_Set_HQ_in_front_1
	}
}

defined_text = {
	name = GetFourYearPlannamedecision
	text = {
		trigger = {
			has_country_flag = GER_FOUR_YEAR_PLAN_END
			NOT = { has_country_flag = GER_mefo_bills_ended_flag }
		}
		localization_key = "Mefo Bills"
	}
	text = {
		trigger = {
			NOT = { has_country_flag = GER_FOUR_YEAR_PLAN_END }
			has_country_flag = GER_mefo_bills_ended_flag
		}
		localization_key = "Four Year Plan"
	}
	text = {
		trigger = {
			has_country_flag = GER_FOUR_YEAR_PLAN_END
			has_country_flag = GER_mefo_bills_ended_flag
		}
		localization_key = "German Economic Plan"
	}
	text = {
		localization_key = "Four Year Plan & Mefo Bills"
	}
}

defined_text = {
	name = GetAfricacorpsfront
	text = {
		trigger = {
			has_global_flag = GER_LIB_SIDE_PLAN
		}
		localization_key = GER_Set_HQ_in_LIB_front
	}
	text = {
		trigger = {
			has_global_flag = GER_ETH_SIDE_PLAN
		}
		localization_key = GER_Set_HQ_in_ETH_front
	}
	text = {
		localization_key = GER_Set_HQ_in_front_1
	}
}

defined_text = {
	name = GetAfricacorpsfrontlogistics
	text = {
		trigger = {
			has_global_flag = GER_LIB_SIDE_PLAN
		}
		localization_key = GER_LIB_front_war_logistics
	}
	text = {
		trigger = {
			has_global_flag = GER_ETH_SIDE_PLAN
		}
		localization_key = GER_ETH_front_war_logistics
	}
	text = {
		localization_key = GER_africa_front_war_logistics1
	}
}

defined_text = {
	name = StateofFuhrer
	text = {
		trigger = {
			has_global_flag = Adolf_retired
		}
		localization_key = GER_hitler_is_retired
	}
	text = {
		trigger = {
			has_global_flag = Adolf_killed
		}
		localization_key = GER_hitler_is_dead
	}
	text = {
		trigger = {
			has_global_flag = Adolf_suicide
		}
		localization_key = GER_hitler_is_suicided
	}
	text = {
		localization_key = GER_hitler_is_gone1
	}
}

defined_text = {
	name = GetMolotovRibbentropName
	text = {
		trigger = {
			SOV = {
				has_government = communism
			}
		}
		localization_key = SOV_MOLOTOV_RIBBENTROP_NAME_COMMUNIST
	}
	text = {
		trigger = {
			SOV = {
				NOT = { has_government = communism }
			}
		}
		localization_key = SOV_MOLOTOV_RIBBENTROP_NAME_EXILES
	}
}

defined_text = {
	name = GetSleepWellSovText
	text = {
		trigger = {
			OR = {
				NOT = { has_completed_focus = GER_ussr_war_goal }
				#NOT = { has_completed_focus = GER_soviet_ally }
			}
		}
		localization_key = GER_Sleep_Well_SOV1
	}
	text = {
		trigger = {
			has_completed_focus = GER_ussr_war_goal
		}
		localization_key = GER_Sleep_Well_SOV2
	}
}

defined_text = {
	name = GetFrancedesc
	text = {
		trigger = {
			NOT = { has_global_flag = GER_SOV_END_OF_PACT_EVENT }
		}
		localization_key = GER_around_desc
	}
	text = {
		trigger = {
			has_global_flag = GER_SOV_END_OF_PACT_EVENT
		}
		localization_key = GER_around_a_desc
	}
}

defined_text = {
	name = lendlease
	text = {
		trigger = {
			has_country_flag = SOV_LEND_LEASE_CUSTOM_EQUIPMENT_SHERMAN 
		}
		localization_key = "Sherman Tanks"
	}
	text = {
		trigger = {
			has_country_flag = SOV_LEND_LEASE_custom_equipment_hawker
		}
		localization_key = "Hawker Hurricanes"
	}
	text = {
		trigger = {
			has_country_flag = SOV_LEND_LEASE_custom_equipment_renault
		}
		localization_key = "Renault R35 Tanks"
	}
	text = {
		trigger = {
			has_country_flag = SOV_LEND_LEASE_EQUIPMENT
		}
		localization_key = "Equipment"
	}
	text = {
		trigger = {
			has_country_flag = SOV_LEND_LEASE_SUPPLY_FOOD
		}
		localization_key = "Supply and Food"
	}
	text = {
		trigger = {
			has_country_flag = SOV_LEND_LEASE_TRANSPORT
		}
		localization_key = "Trains and Trucks"
	}
}

defined_text = {
	name = Karl_Donitz_w_side
	text = {
		trigger = {
			has_global_flag = GER_KARL_DONITZ_SS_COUP
		}
		localization_key = "SS leadership"
	}
	text = {
		trigger = {
			has_global_flag = GER_KARL_DONITZ_WEHRMACHT_COUP
		}
		localization_key = "Wehrmacht"
	}
}

defined_text = {
	name = wehrmacht_ss_status
	text = {
		trigger = {
			has_completed_focus = GER_SS
		}
		localization_key = Wehrmacht_Status_of_loyalty
	}
	text = {
		trigger = {
			NOT = { has_completed_focus = GER_SS }
		}
		localization_key = ""
	}
}

defined_text = {
	name = ss_wehrmacht_status
	text = {
		trigger = {
			has_completed_focus = GER_SS
		}
		localization_key = SS_Status_of_loyalty
	}
	text = {
		trigger = {
			NOT = { has_completed_focus = GER_SS }
		}
		localization_key = ""
	}
}

defined_text = {
	name = GermanvsBritain
	text = {
		trigger = {
			if = {
				limit = { ENG = { NOT = { is_in_faction_with = GER } } }
			}
		}
		localization_key = GER_plan_z_naval_text
	}
	text = {
		trigger = {
			if = {
				limit = { ENG = {  is_in_faction_with = GER } }
			}
		}
		localization_key = ""
	}
}

defined_text = {
	name = GetStrengthRatioBritainvsGermany
	text = {
		trigger = {
			if = {
				limit = { ENG = { NOT = { is_in_faction_with = GER } } }
				naval_strength_comparison = {
					other = ENG
					ratio < 1
					sub_unit_def_weights = {
						carrier = 0.5
						battleship = 1
						battle_cruiser = 0.8
						heavy_cruiser = 0.5
					}
				}
				naval_strength_comparison = {
					other = ENG
					ratio > 0.9
					sub_unit_def_weights = {
						carrier = 0.5
						battleship = 1
						battle_cruiser = 0.8
						heavy_cruiser = 0.5
					}
				}
			}
		}
		localization_key = Naval_90
	}
	text = {
		trigger = {
			if = {
				limit = { ENG = { NOT = { is_in_faction_with = GER } } }
				naval_strength_comparison = {
					other = ENG
					ratio < 0.9
					sub_unit_def_weights = {
						carrier = 0.5
						battleship = 1
						battle_cruiser = 0.8
						heavy_cruiser = 0.5
					}
				}
				naval_strength_comparison = {
					other = ENG
					ratio > 0.75
					sub_unit_def_weights = {
						carrier = 0.5
						battleship = 1
						battle_cruiser = 0.8
						heavy_cruiser = 0.5
					}
				}
			}
		}
		localization_key = Naval_75
	}
	text = {
		trigger = {
			if = {
				limit = { ENG = { NOT = { is_in_faction_with = GER } } }
				naval_strength_comparison = {
					other = ENG
					ratio < 0.75
					sub_unit_def_weights = {
						carrier = 0.5
						battleship = 1
						battle_cruiser = 0.8
						heavy_cruiser = 0.5
					}
				}
				naval_strength_comparison = {
					other = ENG
					ratio > 0.5
					sub_unit_def_weights = {
						carrier = 0.5
						battleship = 1
						battle_cruiser = 0.8
						heavy_cruiser = 0.5
					}
				}
			}
		}
		localization_key = Naval_50
	}
	text = {
		trigger = {
			if = {
				limit = { ENG = { NOT = { is_in_faction_with = GER } } }
				naval_strength_comparison = {
					other = ENG
					ratio < 0.5
					sub_unit_def_weights = {
						carrier = 0.5
						battleship = 1
						battle_cruiser = 0.8
						heavy_cruiser = 0.5
					}
				}
			}
		}
		localization_key = Naval_lower_than_50
	}
	text = {
		trigger = {
			if = {
				limit = { ENG = { NOT = { is_in_faction_with = GER } } }
				naval_strength_comparison = {
					other = ENG
					ratio > 1
					sub_unit_def_weights = {
						carrier = 0.5
						battleship = 1
						battle_cruiser = 0.8
						heavy_cruiser = 0.5
					}
				}
			}
		}
		localization_key = Naval_over_100
	}
}
